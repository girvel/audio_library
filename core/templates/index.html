{% extends "base.html" %}
{% load static %}


{% block content %}

<figure id="player">
    <figcaption>
        - no track -
    </figcaption>
    <audio controls>
        Your browser does not support the <code>audio</code> element.
    </audio>
</figure>

{#{% for track in tracks %}#}
{##}
{#<ul>#}
{#    <li onclick="set_track('{{ track.file.url }}', '{{ track.author }} - {{ track.name }}')">#}
{#        <a href="{% url 'author' track.author %}">#}
{#            {{ track.author }}#}
{#        </a>#}
{#        - {{ track.name }}#}
{#    </li>#}
{#</ul>#}
{##}
{#{% endfor %}#}

<script>
axios.get('/api/tracks').then(alert)
function set_track(path_to_track, title) {
    document.querySelector("#player audio").src = path_to_track
    document.querySelector("#player figcaption").innerHTML = title
}
</script>

{% endblock %}
